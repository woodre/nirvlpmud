#include <kernel.h>
inherit ACCESS;

string *names;
int n;

void make_wizards()
{
  names = get_dir("/players/");
  names -= ({ "quests" });
  set_heart_beat(1);
}

void heart_beat_sub()
{
  SECURITY->create_wizard(names[n]);
  SECURITY->set_protection("/players/"+names[n],1,names[n]+":");
  SECURITY->add_compatible( ({ names[n++] }) );
}

void heart_beat()
{
  unguarded(1,#'heart_beat_sub);
}
