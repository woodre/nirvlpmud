Current situation:
  Level 15 player wielding a wc18 weapon (no paladin, knight, or weapon
  special bonuses) can exceed the damage cap by casting fireball as the
  max damage called through attack would be 56. So if the player got
  lucky and did a great hit, it would be knocked down to random(30).

  Level 19+5 player wielding storable wc18 return 6 weapon (no paladin or
  knight bonuses) will regularly exceed the cap casting sonic - getting
  near the max damage called through attack of 67 will knock
  the damage down to random(30)..

  Level 10 player with wc14 weapon no bonuses or specials
  can, with a 'crushing blow' called randomly in hit_player, do 70 damage
  just casting shock.

I would suggest putting in a hard cap, instead of a penalty cap, so that
players are not penalized for getting lucky or casting good spells
