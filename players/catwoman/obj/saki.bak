
int shots_drank;

id(str) { return (str == "saki" || str == "bottle"); }

reset() {}

long()
{
  write("A tall bottle Japanese Saki.\n");
  write("There are " + (11-shots_drank) + " shots left.\n");
}

short() { return "A bottle of Saki"; }

init()

{
  add_action("drink"); add_verb("drink");
}

drink(arg)
{
if(environment() != this_player()) return;
  if (id(arg)) {
    if (!call_other(this_player(), "drink_alcohol", 8)) {
	write("You might want to wait a bit.\n");
	return 1;
	}
    if (call_other(this_player(), "drink_alcohol", 8))
      say(call_other(this_player(),"query_name") + " takes a shot of Saki.\n");
      write("You take a shot of Saki\n WHAMM it hits you like a ton of bricks!\n");
      if (shots_drank == 10) { write("You suck the last shot out and break the bottle.\n"); }
      else { write("There are " + (10 - shots_drank) + " shots left.\n"); }
      call_other(this_player(),"heal_self",27);
      shots_drank++;
      if (shots_drank > 10) { 
        this_player()->add_weight(-1);
        destruct(this_object()); 
      }
      return 1;
    }
return 0;
}
 


get() { return 1; }

query_weight() { return 1; }

query_value() {
   int y;
      y=1000-1000/11*shots_drank;
     return y;
}


query_save_flag() {return 1;}
