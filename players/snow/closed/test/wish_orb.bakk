inherit "/obj/treasure.c";

reset() {
  set_id("orb");
  set_alias("orb of wishes");
  set_short("Orb of Wishes");
  set_long("\n\tYou gaze upon the fabled Orb of Wishes.\n"+
"It is a small spherical object seemingly made of coherent quicksilver.\n"+
"As you peer into it, a voice echoes in your mind:\n\n"+
"\tYou, valiant one, may wish for any of the following:\n"+
"\taxe, sword, hammer, mace, staff, dagger, whip, weapon, armor, coins, or\n"+
"\texperience.\n"+
"\tDo this by commanding: wish <choice>.\n"+
"\tYou have one wish. Choose well.\n\n");
  set_weight(1);
  }

init() {
  ::init();
  add_action("do_wish","wish");
  }

do_wish(string str) {
  object ob;
  if(!str) { notify_fail("..*.. wish <axe, sword, hammer, mace, dagger, whip, staff, armor, coins, or experience>\n");
             return 0; }
write_file("/players/snow/closed/test/prizes", ctime(time())+" "+this_player()->query_real_name()+" "+str+"\n");
  if(str != "axe" && str != "sword" && str != "armor" && str != "coins" && 
     str != "experience" && str != "mace" && str != "hammer" && str != "dagger" && 
     str != "whip" && str != "staff") {
    notify_fail("You may wish for an axe, sword, hammer, dagger, staff, mace, whip,\n"+
                "armor, coins, or experience.\n"); return 0; }
  if(str == "sword") {
    ob = clone_object("/players/snow/closed/test/elem_sword.c");
    write("A weapon of might is the reward of your wish!\n"); }
  if(str == "axe") {
    ob = clone_object("/players/snow/closed/test/elem_axe.c");
    write("A weapon of might is the reward of your wish!\n"); }
  if(str == "hammer") {
    ob = clone_object("/players/snow/closed/test/elem_hammer.c");
    write("A weapon of might is the reward of your wish!\n"); }
  if(str == "staff") {
    ob = clone_object("/players/snow/closed/test/elem_staff.c");
    write("A weapon of might is the reward of your wish!\n"); }
  if(str == "whip") {
    ob = clone_object("/players/snow/closed/test/elem_whip.c");
    write("A weapon of might is the reward of your wish!\n"); }
  if(str == "dagger") {
    ob = clone_object("/players/snow/closed/test/elem_dagger.c");
    write("A weapon of might is the reward of your wish!\n"); }
  if(str == "mace") {
    ob = clone_object("/players/snow/closed/test/elem_mace.c");
    write("A weapon of might is the reward of your wish!\n"); }
  if(str == "armor") {
    ob = clone_object("/players/snow/closed/test/amulet.c");
    write("Armor of might is the reward of your wish!\n");
  }
  if(str == "coins") {
    this_player()->add_money(80000);
    write("A fabulous wealth is the reward of your wish!\n"); }
  if(str == "experience") {
    this_player()->add_exp(100000);
  write("A bonus in experience is the reward of your wish!\n"); }
  if(ob) move_object(ob, this_player());
  move_object(this_player(), "/players/snow/gate.c");
  command("look", this_player());
  destruct(this_object());
  return 1; }
