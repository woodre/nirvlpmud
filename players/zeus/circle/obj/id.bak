/*  thanks for the 'format' Snow -- armor / wep restricting id */

id(string str){
  if(PO){
    if(!test_eq(PO))
    {
      return str == "guild_object" || str == "circle_object" ||
        str == "no_spell" ||
        str == "pro_object" || str == "notweapon"  || str == "notarmor"
        || str == "guild_monitor"; 
    }
  }
  return str == "guild_object" || str == "circle_object" ||
    str == "no_spell" ||
    str == "pro_object" || str == "guild_monitor" || str == "no_mini"; 
}

extra_look(){
    if(environment()->is_player())
      return environment()->QN+" is one with the shadows";
}

test_eq(ob){
  string armor, weight;
  if(!USER) return;
  if(!ob) return 1;
  if(USER->query_level() > 21) return 1;
  weight = ob->query_weight();
  armor = (string)ob->query_type();
  if(ob->weapon_class()){
    if(duration || !weave || ob->query_info() != "csw") return 0;
    else return 1;
  }
  if(armor == "armor" || armor == "main") {
    if(weight > 2) return 0;
    if(weight < 3) return 1;
  }
  else if(armor == "shield") return 0;
  else if(weight > 1) return 0;
  else return 1;
}

/* Added by Feldegast 11-2-00 */

mini_dest(str) {
  if(this_player())
    write("Your guild forbids you from being a member of a miniguild.\n"+
          "You leave the "+str+"s.\n");
}
