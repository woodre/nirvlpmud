inherit "/obj/monster.c";
#include "/players/beck/Defs.h"
#include "/players/beck/Rangers/RangerDefs.h"
#include "/players/beck/Rangers/Npc/RangerNpc.h"

reset(arg)
{
   object gold, helmet, watch;
   set_move_at_reset();
   ::reset(arg);
   if(arg) return;
   set_name("Tommy");
   set_alt_name("tommy");
   set_long("Tommy is one of the Mighty Morphin' Power Rangers.\n"+
      "Tommy is the strongest of the power rangers.\n"+
      "He is also the first to step into battle to save his friends.\n"+
      "With his new identity and powers, as the White Ranger (formerly\n"+
      "the green ranger) his only mission is to destroy Lord Zed and\n"+
      "his evil minions.\n"+
      "\n");
/*
   set_hbflag("hbstayon");
*/
   set_alias("ranger");
   set_race("ranger_tommy");
   set_level(20);
   set_wc(30);
   set_ac(22);
   set_hp(1000);
   set_al(1000);
   set_aggressive(0);
   set_chat_chance(3);
   set_dead_ob(this_object());
   gold=clone_object("obj/money");
   gold->set_money(random(1000) + 3000);
   move_object(gold, this_object());
   if(!present("RangerCommunicator", this_object())){
      watch=clone_object("/players/beck/Rangers/RangerCommunicator.c");
      move_object(watch, this_object());
      watch->init_arg();
      watch->init();
watch->SRangerAnsi(WHITE);
   }
}

custom_clean(){
   MASTER->RemoveRanger("Power Ranger",TO);
   return 0;
}
RangerNPC(){ return 1; }
query_interactive(){ return 1; }
query_guild_rank(){ return 99; }
init(){
   ::init();
   if(COMM){
      string type;

/*
      if(COMM->QKarateLevel() ==9){
         if(COMM->QKarateExtraLevel() == 8){ type = "none";}
         if(COMM->QKarateExtraLevel() == 7){ type = "8th degree";}
         if(COMM->QKarateExtraLevel() == 6){ type = "7th degree";}
         if(COMM->QKarateExtraLevel() == 5){ type = "6th degree";}
         if(COMM->QKarateExtraLevel() == 4){ type = "5th degree";}
         if(COMM->QKarateExtraLevel() == 3){ type = "4th degree";}
         if(COMM->QKarateExtraLevel() == 2){ type = "3rd degree";}
         if(COMM->QKarateExtraLevel() == 1){ type = "2nd degree";}
         if(COMM->QKarateExtraLevel() == 0){ type = "1st degree";}
      }
      if(COMM->QKarateLevel() == 8){ type = "black";}
      if(COMM->QKarateLevel() == 7){ type = "brown";}
      if(COMM->QKarateLevel() == 6){ type = "purple";}
      if(COMM->QKarateLevel() == 5){ type = "blue";}
      if(COMM->QKarateLevel() == 4){ type = "green";}
      if(COMM->QKarateLevel() == 3){ type = "red";}
      if(COMM->QKarateLevel() == 2){ type = "orange";}
      if(COMM->QKarateLevel() == 1){ type = "yellow";}
      if(COMM->QKarateLevel() == 0){ type = "white";}
      COMM->TrainRanger("Tommy",type);
*/
      COMM->TrainRangerSkill("morph",1,"beck","Tommy",50);
   }
}

short(){
   if(present("RangerCommunicator", this_object())->QMorphed()){
      return "The "+BOLD+WHITE+"White"+OFF+" Ranger";
   }
   return "A teenage boy named Tommy";
}


monster_died(){
   object corpse;
   write_file("/players/beck/Rangers/Log/NPC_KILLED",(TO->query_attack())->query_name()+" killed Tommy "+ctime(time())+"\n");
   MASTER->RemoveRanger("Power Ranger",TO);
   command("release",this_object());
   corpse = present("corpse", environment(this_object()));
   move_object(clone_object("/players/beck/armor/white_helmet.c"), corpse);
   return 0;
}

