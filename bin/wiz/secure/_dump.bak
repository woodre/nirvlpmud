#include <security.h>


int cmd_dump(string arg)
{
    string pth;      int line;
  string text;

/*  commented out so other objects can query it

    if((int)this_player()->query_level() < APPRENTICE)
      return 0;
*/

    if(!arg)
      return (write("Syntax: 'dump [file]'\n"), 1);

    pth = normalize_path(arg);

    if(file_size(pth) < 1)
      return (write("That file does not exist.\n"), 1);

    text = read_bytes(pth, 0, file_size(pth));
  if (!text)
  {
    printf("DUMP: File too large to dump: %s\n", pth);
    return 1;
  }

  write(text);

    return 1;
}
