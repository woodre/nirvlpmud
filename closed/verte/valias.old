/* not really sensitive information, but that's okay */

/* vert & fak wrote it */

#include <security.h>

int
cmd_valias(string str)
{
  object ob;

  if((int)this_player()->query_level() <= APPRENTICE) return 0;
  if(!str) return (notify_fail("View whose aliases?\n"), 0);
  if(!(ob=find_player(str)) || ((int)ob->query_invis() > (int)this_player()->query_level()))
    return (notify_fail("That player isn't online.\n"), 0);
  if((int)ob->query_level() > (int)this_player()->query_level())
    return (notify_fail("That wizard is a higher level than you.\n"), 0);
  if(!(ob = present("qt", ob)))
    return (notify_fail("That player doesn't have a quicktyper.\n"), 0);
  ob->alias();
  return 1;
}
